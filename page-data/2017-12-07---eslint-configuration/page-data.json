{"componentChunkName":"component---src-templates-blog-post-js","path":"/2017-12-07---eslint-configuration","webpackCompilationHash":"7406ff9d252f4827bad4","result":{"data":{"site":{"siteMetadata":{"title":"Canastro's notes","author":"Ricardo Canastro"}},"markdownRemark":{"id":"cc3b582a-b3c7-5d57-82c3-83c5fdc86361","excerpt":"In the last couple of years I’ve been working in a few freelance and personal projects. At first I was happy just having the airbnb’s eslint rules, but after a…","html":"<p>In the last couple of years I’ve been working in a few freelance and personal projects. At first I was happy just having the airbnb’s eslint rules, but after a while I came up with a set of overrides to which I was more comfortable with.</p>\n<p>I started copying those rules to all my projects, but once in a while I stumbled upon another rule that I wish to be added.</p>\n<blockquote>\n<p>\n  <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/blog/static/b526965f52816cf88f237eaefaea3cc0/82472/monkey-work.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n  \n  <span\n    class=\"gatsby-resp-image-wrapper\"\n    style=\"position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;\"\n  >\n    <span\n      class=\"gatsby-resp-image-background-image\"\n      style=\"padding-bottom: 49.16666666666667%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAKABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAUCAwT/xAAVAQEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEAMQAAAB22JmaMSIf//EABwQAAMAAQUAAAAAAAAAAAAAAAECAxIEESExM//aAAgBAQABBQK98FjbJQdxrPZBwvX/xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAaEAACAgMAAAAAAAAAAAAAAAAQIQABMTJx/9oACAEBAAY/AlmPY1wf/8QAGxAAAgMBAQEAAAAAAAAAAAAAAAERITFRscH/2gAIAQEAAT8hU/vF/OmforjC6iDxYhPSSZxP/9oADAMBAAIAAwAAABAsP//EABURAQEAAAAAAAAAAAAAAAAAAAEQ/9oACAEDAQE/ECf/xAAVEQEBAAAAAAAAAAAAAAAAAAABEP/aAAgBAgEBPxBn/8QAHRAAAgICAwEAAAAAAAAAAAAAAREAITFBYXGBof/aAAgBAQABPxDSmhcrJAwEY91r1ddTnIk4IUaC/s3aQARwJRE//9k='); background-size: cover; display: block;\"\n    >\n      <img\n        class=\"gatsby-resp-image-image\"\n        style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\"\n        alt=\"Monkey Work\"\n        title=\"\"\n        src=\"/blog/static/b526965f52816cf88f237eaefaea3cc0/c739e/monkey-work.jpg\"\n        srcset=\"/blog/static/b526965f52816cf88f237eaefaea3cc0/8ee9c/monkey-work.jpg 148w,\n/blog/static/b526965f52816cf88f237eaefaea3cc0/ebbe7/monkey-work.jpg 295w,\n/blog/static/b526965f52816cf88f237eaefaea3cc0/c739e/monkey-work.jpg 590w,\n/blog/static/b526965f52816cf88f237eaefaea3cc0/82472/monkey-work.jpg 600w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n      />\n    </span>\n  </span>\n  \n  </a>\n    \nOh noo! Here comes the monkey work…</p>\n</blockquote>\n<p>In each project I needed to figure out which rules were missing and add them manually. This had to be a manual process because I had no distinction between which rules were specific to the project in hand and which were general to all projects. Obviously, this was not very productive.</p>\n<p>If you’re facing a similar issue, I suggest you to create your own eslint configuration module.</p>\n<h3>Create your npm module</h3>\n<ol>\n<li>Create your own module named <code class=\"language-text\">eslint-config-{name}</code></li>\n<li>Add your peer dependencies, in case you’re extending airbnb it could be something like this:</li>\n</ol>\n<h4>package.json</h4>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token property\">\"peerDependencies\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"eslint-config-airbnb\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\">16\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"eslint-plugin-import\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\">2\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"eslint-plugin-jsx-a11y\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\">6\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"eslint-plugin-react\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\">7\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"eslint\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\">4\"</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ol start=\"3\">\n<li>\n<p>Add as many configuration files as you want, for example:</p>\n<h4>index.js</h4>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">module<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    parserOptions<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n        sourceType<span class=\"token punctuation\">:</span> <span class=\"token string\">'module'</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    rules<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token string\">'comma-dangle'</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'error'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'never'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">'max-len'</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span><span class=\"token string\">'warn'</span><span class=\"token punctuation\">,</span> <span class=\"token number\">100</span><span class=\"token punctuation\">,</span> <span class=\"token number\">4</span><span class=\"token punctuation\">]</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n</li>\n</ol>\n<h4>jsdoc.js</h4>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">module<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    rules<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token string\">'require-jsdoc'</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>\n            <span class=\"token string\">'warn'</span><span class=\"token punctuation\">,</span>\n            <span class=\"token punctuation\">{</span>\n                require<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n                    ArrowFunctionExpression<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n                    ClassDeclaration<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n                    FunctionDeclaration<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n                    MethodDefinition<span class=\"token punctuation\">:</span> <span class=\"token boolean\">true</span>\n                <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">'valid-jsdoc'</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>\n            <span class=\"token string\">'warn'</span><span class=\"token punctuation\">,</span>\n            <span class=\"token punctuation\">{</span>\n                requireReturn<span class=\"token punctuation\">:</span> <span class=\"token boolean\">false</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">]</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<ol start=\"4\">\n<li><a href=\"https://docs.npmjs.com/getting-started/publishing-npm-packages\">Publish your module to npm</a></li>\n</ol>\n<h3>Usage</h3>\n<p>In the modules where you want to use these rules follow the following steps:</p>\n<ol>\n<li>Install your eslint configuration module</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">npm install --save-dev eslint-config-{name}</code></pre></div>\n<ol start=\"2\">\n<li>\n<p>Update your .eslintrc.js file</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">module<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">extends</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>\n        <span class=\"token string\">'airbnb'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">'eslint-config-{name}'</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">'eslint-config-{name}/jsdoc'</span>\n    <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n    rules<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token string\">\"import/no-extraneous-dependencies\"</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"off\"</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    globals<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n        graphql<span class=\"token punctuation\">:</span> <span class=\"token boolean\">false</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n</li>\n<li>Done!</li>\n</ol>\n<h3>Extra - Scoped Modules</h3>\n<p>If you, like me, don’t feel inspired on a name for your module, or simply don’t want a module your (or your company’s name) you can just use scoped modules.</p>\n<p>In order to achieve this you need to change the project’s name on the package.json into something like: <code class=\"language-text\">@canastro/eslint-config</code> and publish like: <code class=\"language-text\">npm publish --access=public</code>.</p>\n<p>To use the eslint config in a scoped module you have to install your module <code class=\"language-text\">npm i --save-dev @canastro/eslint-config</code> and update your extends to something in this fashion:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">extends</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token string\">'airbnb'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">'@canastro/eslint-config'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">'@canastro/eslint-config/jsdoc'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token string\">'@canastro/eslint-config/react'</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span></code></pre></div>\n<h3>Resources</h3>\n<ul>\n<li><a href=\"https://eslint.org/docs/developer-guide/shareable-configs\">ESLint Shareable Configs</a></li>\n<li><a href=\"https://www.npmjs.com/package/eslint-config-airbnb\">ESLint Config AirBNB</a></li>\n<li><a href=\"https://docs.npmjs.com/getting-started/publishing-npm-packages\">NPM Publishing packages</a></li>\n<li><a href=\"https://www.npmjs.com/docs/orgs/publishing-an-org-scoped-package.html\">NPM scoped packages</a></li>\n<li><a href=\"https://github.com/canastro/eslint-config\">My own config</a></li>\n</ul>","frontmatter":{"title":"ESLint Configurations - Your Project, Your Rules!","subtitle":null,"date":"December 07, 2017","tweet":null}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"tags":[{"text":"dev environment","link":"/tags/dev-environment/"},{"text":"eslint","link":"/tags/eslint/"}],"slug":"/2017-12-07---eslint-configuration/","previous":null,"next":{"fields":{"slug":"/2017-12-08---power-of-flow-runtime/"},"frontmatter":{"title":"With the Power of Flow Runtime!","path":"/2017-12-08---power-of-flow-runtime","tags":["dev environment","flowjs"]}}}}}